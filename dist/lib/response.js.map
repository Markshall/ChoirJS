{"version":3,"sources":["../../lib/response.js"],"names":["module","exports","res","response","head","writeHead","header","statusCode","headers","render","template","options","callback","directory","name","err","notFound","send","val","write","end","json","setHeader","JSON","stringify","message","setStatus"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB,UAACC,GAAD,EAAS;AACxB,MAAMC,QAAQ,GAAG;AACfC,IAAAA,IAAI,EAAE,gBAAM;AACVF,MAAAA,GAAG,CAACG,SAAJ,CAAcH,GAAG,CAACI,MAAJ,CAAWC,UAAzB,EAAqCL,GAAG,CAACI,MAAJ,CAAWE,OAAhD;AACD,KAHc;;AAIf;;;AAGAC,IAAAA,MAAM,EAAE,gBAACC,QAAD,EAAWC,OAAX,EAAuB;AAC7BT,MAAAA,GAAG,CAACQ,QAAJ,CAAaE,QAAb,WACKV,GAAG,CAACQ,QAAJ,CAAaG,SADlB,cAC+BH,QAD/B,cAC2CR,GAAG,CAACQ,QAAJ,CAAaI,IADxD,GAEEH,OAFF,EAGE,UAACI,GAAD,EAAMN,MAAN,EAAiB;AACf,YAAIM,GAAJ,EAAS;AACPb,UAAAA,GAAG,CAACc,QAAJ,CAAa,0BAAb;AACD,SAFD,MAEO;AACLd,UAAAA,GAAG,CAACe,IAAJ,CAASR,MAAT;AACD;AACF,OATH;AAWD,KAnBc;;AAoBf;;;AAGAQ,IAAAA,IAAI,EAAE,cAACC,GAAD,EAAS;AACbhB,MAAAA,GAAG,CAACE,IAAJ;AACAF,MAAAA,GAAG,CAACiB,KAAJ,CAAUD,GAAV;AACAhB,MAAAA,GAAG,CAACkB,GAAJ;AACD,KA3Bc;;AA4Bf;;;AAGAC,IAAAA,IAAI,EAAE,cAACH,GAAD,EAAS;AACbhB,MAAAA,GAAG,CAACI,MAAJ,CAAWgB,SAAX,CAAqB,cAArB,EAAqC,kBAArC;AACApB,MAAAA,GAAG,CAACE,IAAJ;AACAF,MAAAA,GAAG,CAACiB,KAAJ,CAAUI,IAAI,CAACC,SAAL,CAAeN,GAAf,CAAV;AACAhB,MAAAA,GAAG,CAACkB,GAAJ;AACD,KApCc;;AAqCf;;;AAGAJ,IAAAA,QAAQ,EAAE,oBAAoB;AAAA,UAAnBS,OAAmB,uEAAT,IAAS;AAC5BvB,MAAAA,GAAG,CAACI,MAAJ,CAAWoB,SAAX,CAAqB,GAArB;AACAxB,MAAAA,GAAG,CAACE,IAAJ;AACAF,MAAAA,GAAG,CAACiB,KAAJ,CAAWM,OAAO,KAAK,IAAb,GAAqBA,OAArB,GAA+B,8BAAzC;AACAvB,MAAAA,GAAG,CAACkB,GAAJ;AACD;AA7Cc,GAAjB;AAgDA,SAAOjB,QAAP;AACD,CAlDD","sourcesContent":["module.exports = (res) => {\n  const response = {\n    head: () => {\n      res.writeHead(res.header.statusCode, res.header.headers);\n    },\n    /*\n     * Render from template.\n     */\n    render: (template, options) => {\n      res.template.callback(\n        `${res.template.directory}/${template}.${res.template.name}`,\n        options,\n        (err, render) => {\n          if (err) {\n            res.notFound('Template file not found.');\n          } else {\n            res.send(render);\n          }\n        },\n      );\n    },\n    /*\n     * For sending ordinary data.\n     */\n    send: (val) => {\n      res.head();\n      res.write(val);\n      res.end();\n    },\n    /*\n     * For sending formatted JSON data.\n     */\n    json: (val) => {\n      res.header.setHeader('Content-Type', 'application/json');\n      res.head();\n      res.write(JSON.stringify(val));\n      res.end();\n    },\n    /*\n     * 404 Error.\n     */\n    notFound: (message = null) => {\n      res.header.setStatus(404);\n      res.head();\n      res.write((message !== null) ? message : 'Route not found in registry.');\n      res.end();\n    },\n  };\n\n  return response;\n};\n"],"file":"response.js"}